//jquery.validator.js v1.0
(function(e){e.formValid={addMethod:function(t,n){var r=this;return e.isFunction(n)&&(r.methods[t]=n),r},methods:{required:function(t,n){return e.trim(t).length>0},email:function(t,n){return e.trim(t).length==0||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)},url:function(t,n){return e.trim(t).length==0||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},ip:function(t,n){return e.trim(t).length==0||/^[\d\.]{7,15}$/.test(t)},qq:function(t,n){return e.trim(t).length==0||/^[1-9]\d{4,12}$/.test(t)},currency:function(t,n){return e.trim(t).length==0||/^\d+(\.\d+)?$/.test(t)},mobile:function(t,n){return e.trim(t).length==0||/^((\(\d{3}\))|(\d{3}\-))?13[0-9]\d{8}?$|15[89]\d{8}?$/.test(t)},phone:function(t,n){return e.trim(t).length==0||/^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$/.test(t)},number:function(t,n){return e.trim(t).length==0||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,n){return e.trim(t).length==0||/^\d+$/.test(t)},creditcard:function(t,n){if(e.trim(t).length==0)return!0;if(/[^0-9 \-]+/.test(t))return!1;var r=0,i=0,s=!1;t=t.replace(/\D/g,"");for(var o=t.length-1;o>=0;o--){var u=t.charAt(o);i=parseInt(u,10),s&&(i*=2)>9&&(i-=9),r+=i,s=!s}return r%10===0},rangelength:function(t,n){if(e.trim(t).length==0)return!0;var r=t.split(",").length;return r>=n[0]&&r<=n[1]},min:function(t,n){return e.trim(t).length==0?!0:t>=n},max:function(t,n){return e.trim(t).length==0?!0:t<=n},range:function(t,n){return e.trim(t).length==0?!0:t>=n[0]&&t<=n[1]},equalTo:function(t,n){var r=e(n);return t===r.val()}},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again."}},e.fn.formValid=function(){return e.formValid}})(jQuery);

//jquery.form.ui.js v1.0 '
(function($){"use strict";$.extForm=function(e){this.init(e)},$.extForm.fn={},$.extForm.fn.extend=function(e){$.extend($.extForm.prototype,e)},$.extForm.extend=function(e){$.extend($.extForm,e)},$.extForm.extend({version:"1.0",padding:4,order:1,list:{},puglins:[],get:function(e,t){var n=this,t=n._undef(t,"default"),r=[],i=n.list;if(t in i)for(var s in i[t]){var o=i[t][s];if(o===null)continue;if(!$("#"+o.self.C("id")).length){o.self._destroy(),i[t][s]=null;continue}o.name==e&&r.push(o.self)}return r.length==1?r[0]:r},getVal:function(e,t){var n=this,r=n.get.apply(n,arguments),i=[];return $.isArray(r)?($.each(r,function(){var e=this.val();e!=""&&i.push(e)}),i.join(",")):r.val()},setVal:function(e,t,n){var r=this,i=r.get.apply(r,[arguments[1],arguments[2]]),s=[];return $.isArray(i)?($.each(i,function(){this.val(e)}),!0):(i.val(e),!0)},checkGroup:function(e){var t=this,e=t._undef(e,"default"),n=t.list,r=[],i;if(e in n)for(var s in n[e]){var o=n[e][s];if(o===null)continue;i=o.self.checkVal(),i===!1&&r.push(o.name)}return r.length?r:!0},valid:function(e){var t=this,n=t.checkGroup(e);return n===!0?!0:!1},checkElement:function(e,t){var n=this,r=n.get.apply(n,arguments);return $.isArray(r)&&(r=r[0]),r.checkVal()},getDefaults:function(e){var t={id:"",init:$.noop,padding:$.extForm.padding,label:"",labelCls:"",display:"inline-block",group:"default",name:"",value:"",url:"",dataType:"json",method:"get",parames:{},validator:$.formValid||{},rules:[],messages:{},error:"valid-error",items:[],_item:{cls:"",name:"",value:"",readOnly:!1,disabled:!1,selected:!1,attrs:""},renderTo:null,leftText:"",rightText:"",width:150,height:60,step:1,smax:null,smin:null,type:"text",onCheck:["onBlur","onPaste"],disabled:!1,readOnly:!1,cls:"",attrs:"",template:null,cacheData:[],_oldVal:"",tpl:{},events:{onStart:$.noop,onCreate:$.noop,onSizeChange:$.noop,onClick:$.noop,onFocus:$.noop,onBlur:$.noop,onKeyDown:$.noop,onKeyUp:$.noop,onKeyPress:$.noop,onMouseOver:$.noop,onMouseOut:$.noop,onPaste:$.noop,onSpinnerUp:$.noop,onSpinnerDown:$.noop,onBeforeSet:$.noop,onAfterSet:$.noop,onBeforeGet:$.noop,onAfterGet:$.noop,onChange:$.noop,onValidError:$.noop,onValidSuccess:$.noop,onDestroy:$.noop}};return $.extend(t,e)},getToGridOptions:function(e){var t={options_from:"data-options",columns_from:"thead th",data_from:"tbody tr"};return $.extend(!0,t,e)},_undef:function(e,t){return e===undefined?t:e},_Tpl:{}}),$.extForm.fn.extend({init:function(e){var t=this,e=$.extForm._undef(e,{});t.configs=$.extend(!0,{},$.extForm.getDefaults(),e);var n=t.configs;n.self=t,n.id=n.id||t.getId(),n.type=n.type.toLowerCase(),t.initEvents(),n.init.call(t,n),t.loadPuglins(),t.sysEvents(),t.fireEvent("onStart",[n]),n.url?t.getConf():t.create()},initEvents:function(){var e=this,t=e.configs,n=t.events;for(var r in n)r in t&&e.bind(r,t[r],e)},addList:function(){var e=this,t=e.configs,n=$.extForm.list;t.group in n?n[t.group].push({name:t.name,self:e}):(n[t.group]=[],n[t.group].push({name:t.name,self:e}))},getShowSpace:function(){var e=this,t=e.configs,n=$("#"+t.id),r=$(window).width(),i=$(window).height(),s=n.offset(),o=$(window).scrollLeft(),u=$(window).scrollTop(),a={top:s.top-u,left:s.left-o};return a.bottom=i-a.top-n.outerHeight(),a.right=r-a.left-n.outerWidth(),a},inArray:function(e,t){if(t){var n=t.length,r=0;for(;r<n;r++)if(r in t&&t[r]==e)return r}return-1},tpl:function(e,t){var n=this,r=n.configs;typeof e=="undefined"&&(e=""),typeof t=="undefined"&&(t={});var e=e+"Tpl",i="";return e in n?i=n[e](t):i=e,i},bind:function(e,t,n){if(typeof e=="undefined")return this;var t=t||$.noop,r=this,i=r.configs.events;i[e]=$.extForm._undef(i[e],[]),$.isFunction(i[e])&&(i[e]=[]);var s={scope:n?n:r,func:t},o=i[e].push(s);return o-1},unbind:function(e,t){var n=this,r=n.configs.events,t=$.extForm._undef(t,!1);return t===!1?r[e]=$.noop:r[e][t]=$.noop,n},fireEvent:function(e,t){var n=this,r=n.configs.events[e],t=$.extForm._undef(t,[]),i=!0;if($.isArray(r))for(var s=0;s<r.length;s++){var o=r[s];if($.isPlainObject(o)){i=o.func.apply(o.scope,t);if(i===!1)break}else if($.isFunction(o)){i=o.apply(n,t);if(i===!1)break}}else $.isFunction(r)&&(i=r.apply(n,t));return i},getId:function(){return"extform_"+$.extForm.order++},unique:function(){return"unique_"+Math.floor(Math.random()*99999)},sysEvents:function(){var e=this,t=e.configs;e.bind("onStart",e.onStart,e),e.bind("onCreate",e.onCreate,e),e.bind("onCreate",e.addList,e),e.bind("onCreate",e.onDisabled,e),e.bind("onSizeChange",e.onSizeChange,e),e.bind("onMouseOver",e.onMouseOver,e),e.bind("onMouseOut",e.onMouseOut,e),e.bind("onBeforeGet",e.onBeforeGet,e),e.bind("onAfterGet",e.onBeforeGet,e),e.bind("onBeforeSet",e.onBeforeSet,e),e.bind("onAfterSet",e.onAfterSet,e),e.bind("onChange",e.onChange,e),e.bind("onValidError",e.onValidError,e),e.bind("onValidSuccess",e.onValidSuccess,e);for(var n=0;n<t.onCheck.length;n++)var r=e.bind(t.onCheck[n],e.onCheck,e);return e},loadPuglins:function(){var e=this;$.each($.extForm.puglins,function(t){$.isFunction(this)&&this.call(e)})},onValidError:function(){var e=this,t=e.configs;$("#"+t.id).removeClass(t.error),$("#"+t.id).addClass(t.error)},onValidSuccess:function(){var e=this,t=e.configs;$("#"+t.id).removeClass(t.error)},onCreate:function(){var e=this,t=e.configs,n=t.type+"Extend";n in e&&e[n].call(e)},onStart:function(){var e=this,t=e.configs;t.cls+=" form-"+t.type+"-ui form-"+t.group+"-ui ",t.disabled&&(t.attrs+="disabled"),t.readOnly&&(t.attrs+=" readOnly "),t.display!="inline-block"&&(t.display=" display:"+t.display+"; ");var n=t.type+"Start";n in e&&e[n].call(e)},onDisabled:function(){var e=this,t=e.configs;t.disabled&&(e.disabled(),$("#"+t.id).addClass("form-"+t.type+"-ui-disabled"))},_destroy:function(){var e=this,t=e.configs,n=t.type+"Destroy";return n in e&&e[n].apply(e,[]),e.fireEvent("onDestroy"),e},onSizeChange:function(e){var t=this,n=t.configs,r=n.type+"SizeChange";if(r in t){t[r].apply(t,[]);return}var e=$.extForm._undef(e,parseFloat(n.width)),i=$("#"+n.id+"_text"),s=$("#"+n.id+"_input"),o=$(">span.ui-form-buttons",i).first();i.width(e);var u=0;o.length&&(u=o.outerWidth()),s.width(e-u-n.padding),$("#"+n.id).height($("#"+n.id+"_box").outerHeight())},onMouseOver:function(e,t){$(e).closest("span.ui-form-input").addClass("ui-form-over")},onMouseOut:function(e,t){$(e).closest("span.ui-form-input").removeClass("ui-form-over")},onBeforeGet:function(){},onAfterGet:function(){},onBeforeSet:function(){var e=this,t=e.configs;t._oldVal=t._oldVal===null?e.val():t._oldVal},onAfterSet:function(){var e=this,t=e.configs,n=e.val();t._oldVal!=n&&t._oldVal!==null&&(t._oldVal=null,e.fireEvent("onChange",[]))},onCommonChange:function(){var e=this,t=e.configs,n=$("#"+t.id+"_input");if(!n.length||!n.is(":input"))return e;var r=$("#"+t.id+"_input_key");return!r.length||!r.is(":input")?e:(r.val(n.val()),e)},onChange:function(){var e=this,t=e.configs,n=t.type+"ValueChange";n in e?e[n].apply(e,[]):e.onCommonChange.apply(e,[])},onCheck:function(){var e=this,t=e.configs;e.checkVal()},commonDisabled:function(){var e=this,t=e.configs,n=$("#"+t.id+"_input");if(!n.length){var r=$("#"+t.id+"_text"),i=r.find("input[name="+t.name+"]");i.is(":radio")?i.each(function(){$(this).attr("disabled",!0)}):i.is(":checkbox")&&i.each(function(){$(this).attr("disabled",!0)})}else n.attr("disabled",!0);return e},disabled:function(){var e=this,t=e.configs,n=t.type+"Disabled";n in e?e[n].call(e):e.commonDisabled()},commonEnable:function(){var e=this,t=e.configs,n=$("#"+t.id+"_input");if(!n.length){var r=$("#"+t.id+"_text"),i=r.find("input[name="+t.name+"]");i.is(":radio")?i.each(function(){$(this).attr("disabled",!1)}):i.is(":checkbox")&&i.each(function(){$(this).attr("disabled",!1)})}else n.attr("disabled",!1);return e},enable:function(){var e=this,t=e.configs,n=t.type+"Enable";n in e?e[n].call(e):e.commonEnable(),$("#"+t.id).removeClass("form-"+t.type+"-ui-disabled")},commonReadOnly:function(e){var t=this,n=t.configs,r=$("#"+n.id+"_input");if(!r.length){var i=$("#"+n.id+"_text"),s=i.find("input[name='"+n.name+"']");s.is(":radio")?s.each(function(){$(this).attr("readonly",e)}):s.is(":checkbox")&&s.each(function(){$(this).attr("readonly",e)})}else r.attr("readonly",e);return t},readOnly:function(e){var t=this,n=t.configs,e=typeof e=="undefined"?!0:e,r=n.type+"ReadOnly";r in t?t[r].call(t,e):t.commonReadOnly(e),$("#"+n.id).removeClass("form-"+n.type+"-ui-readonly")},getInput:function(){var e=this,t=e.configs,n=$("#"+t.id+"_input");return n},getInputKey:function(){var e=this,t=e.configs,n=$("#"+t.id+"_input_key");return n},checkVal:function(){var e=this,t=e.configs,n=!0,r=t.rules,i=t.validator,s,o=$.extForm.getVal(t.name,t.group),u={};if($.isArray(r)&&r.length)for(var a=0;a<r.length;a++){s=r[a];if($.isFunction(s))u[a]=s;else if($.isPlainObject(s))for(var f in s)$.isFunction(s[f])?u[f]=s[f]:f in i.methods&&(u[f]={method:f,params:s[f]});else s in i.methods&&(u[s]=s)}else typeof r=="string"&&s in i.methods&&(u[s]=s);for(s in u)if($.isFunction(u[s])){n=u[s].call(e,o);if(n===!1)break}else if($.isPlainObject(u[s])){if(u[s].method in i.methods){n=i.methods[u[s].method].call(e,o,u[s].params);if(n===!1)break}}else if(s in i.methods){n=i.methods[s].call(e,o);if(n===!1)break}if(n===!1){var l=t.messages[s]||i.messages[s]||s;e.fireEvent("onValidError",[l])}else e.fireEvent("onValidSuccess",[]);return n},val:function(){var e=this,t=e.configs;if(arguments.length){e.fireEvent("onBeforeSet",[]);var n=t.type+"SetValue";return n in e?e[n].apply(e,arguments):e.commonSetValue.apply(e,arguments),e.fireEvent("onAfterSet",[]),e}var r="";e.fireEvent("onBeforeGet",[]);var n=t.type+"GetValue";return n in e?r=e[n].call(e):r=e.commonGetValue(),e.fireEvent("onAfterGet",[]),r},create:function(){var e=this,t=e.configs,n=t.type+"Create",r=t.type+"BindEvent",i="";if(n in e){var s=e[n].call(e);if(s===!1)return!1;r in e&&e[r].call(e),e.fireEvent("onSizeChange",[]),e.fireEvent("onCreate",[t.helper])}return!0},commonEvent:function(){var e=this,t=e.configs,n={click:function(t){var n=e.fireEvent("onClick",[this,t]);if(n===!1)return!1},focus:function(t){$(this).closest("span.ui-form-input").addClass("ui-form-focus");var n=e.fireEvent("onFocus",[this,t]);if(n===!1)return!1},blur:function(t){var n=$(this).val();$(this).closest("span.ui-form-input").removeClass("ui-form-focus");var r=e.fireEvent("onBlur",[this,t]);if(r===!1)return!1},keydown:function(n){t._oldVal=t._oldVal===null?$(this).val():t._oldVal;var r=e.fireEvent("onKeyDown",[this,n]);if(r===!1)return!1},keyup:function(n){var r=$(this).val();if(t._oldVal!=r&&t._oldVal!==null){var i=e.fireEvent("onChange",[this,t._oldVal,r,n]);t._oldVal=null;if(i===!1)return!1}var i=e.fireEvent("onKeyUp",[this,n]);if(i===!1)return!1},keypress:function(t){var n=e.fireEvent("onKeyPress",[this,t]);if(n===!1)return!1},mouseenter:function(t){var n=e.fireEvent("onMouseOver",[this,t]);if(n===!1)return!1},mouseleave:function(t){var n=e.fireEvent("onMouseOut",[this,t]);if(n===!1)return!1},change:function(t){var n=e.fireEvent("onChange",[this,t]);if(n===!1)return!1},paste:function(t){var n=e.fireEvent("onPaste",[this,t]);if(n===!1)return!1}},r=$("#"+t.id+"_input");r.bind(n);var i=$("#"+t.id+"_text");i.bind("click",function(){}),$(">span.ui-form-buttons",i).bind({click:function(t){var n=e.fireEvent("onClick",[r,t]);if(n===!1)return!1},mouseenter:function(t){var n=e.fireEvent("onMouseOver",[r,t]);if(n===!1)return!1},mouseleave:function(t){var n=e.fireEvent("onMouseOut",[r,t]);if(n===!1)return!1}})},commonGetValue:function(){var e=this,t=e.configs,n=$("#"+t.id+"_input_key"),r="";n.length||(n=$("#"+t.id+"_input"));if(!n.length){var i=$("#"+t.id+"_text"),s=i.find("input[name='"+t.name+"']");s.is(":radio")?r=i.find(":radio[name='"+t.name+"']:checked").val():s.is(":checkbox")&&(r=[],i.find(":checkbox[name='"+t.name+"']:checked").each(function(){r.push($(this).val())}),r=r.join(","))}else n.is(":input")&&(r=n.val());return $.trim(r)},commonSetValue:function(){var e=this,t=e.configs,n=$("#"+t.id+"_input"),r=$("#"+t.id+"_input_key");return n.val(arguments[0]),r.val(arguments[0]),e},textTpl:function(e){if(!e)return"";var t=this,n=t.configs,r=[];return r.push('<span ui-form-group="'+e.group+'" style="'+e.display+'" class="ui-form-wraper '+e.cls+'" id="'+e.id+'">'),r.push('<label for="'+e.id+'_input" class="ui-form-label '+e.labelCls+'">'+e.label+"</label>"),r.push('<span class="ui-form-span ui-form-left-text">'+e.leftText+"</span>"),r.push('<span class="ui-form-box" id="'+e.id+'_box">'),r.push('<span class="ui-form-input ui-form-text" id="'+e.id+'_text" style=" width:0px;">'),r.push('<input type="text" id="'+e.id+'_input"  style=" width:0px" '+e.attrs+' value="'+e.value+'" /><input type="hidden" name="'+n.name+'" id="'+e.id+'_input_key"  value="'+e.value+'" />'),r.push('<span class="ui-form-buttons"></span>'),r.push("</span>"),r.push("</span>"),r.push('<span class="ui-form-span ui-form-right-text">'+e.rightText+"</span>"),r.push('<span class="ui-form-clear"></span>'),r.push("</span>"),r.join("")},textBindEvent:function(){var e=this;e.commonEvent()},textCreate:function(){var e=this,t=e.configs,n=t.helper,r=$(t.renderTo),i=$(e.tpl(t.type.toString(),t));r.length?r.append(i):n.after(i).remove(),t.helper=i},comboTpl:function(e){if(!e)return"";var t=this,n=t.configs,r=[];return r.push('<span ui-form-group="'+e.group+'" style="'+e.display+'" class="ui-form-wraper '+e.cls+'" id="'+e.id+'">'),r.push('<label for="'+e.id+'_input" class="ui-form-label '+e.labelCls+'">'+e.label+"</label>"),r.push('<span class="ui-form-span ui-form-left-text">'+e.leftText+"</span>"),r.push('<span class="ui-form-box" id="'+e.id+'_box">'),r.push('<span class="ui-form-input ui-form-text" id="'+e.id+'_text" style=" width:0px;">'),r.push('<input type="text"  id="'+e.id+'_input"  style=" width:0px" '+e.attrs+' value="'+e.value+'" /><input type="hidden" name="'+n.name+'" id="'+e.id+'_input_key" value="'+e.value+'" />'),r.push('<span class="ui-form-buttons">'),r.push('<span class="ui-form-buttons-'+e.type+'">'),r.push('<span class="ui-form-buttons-'+e.type+'-icon"></span>'),r.push("</span>"),r.push("</span>"),r.push("</span>"),r.push("</span>"),r.push('<span class="ui-form-span ui-form-right-text">'+e.rightText+"</span>"),r.push('<span class="ui-form-clear"></span>'),r.push("</span>"),r.join("")},comboBindEvent:function(){var e=this;return e.commonEvent(),e},comboCreate:function(){var e=this,t=e.configs,n=t.helper,r=$(e.tpl(t.type,t));n.after(r).remove(),t.helper=r},spinnerTpl:function(e){if(!e)return"";var t=this,n=t.configs,r=[];return r.push('<span ui-form-group="'+e.group+'" style="'+e.display+'" class="ui-form-wraper '+e.cls+'" id="'+e.id+'">'),r.push('<label for="'+e.id+'_input" class="ui-form-label '+e.labelCls+'">'+e.label+"</label>"),r.push('<span class="ui-form-span ui-form-left-text">'+e.leftText+"</span>"),r.push('<span class="ui-form-box" id="'+e.id+'_box">'),r.push('<span class="ui-form-input ui-form-text" id="'+e.id+'_text" style=" width:0px;">'),r.push('<input type="text"  id="'+e.id+'_input"  style=" width:0px" '+e.attrs+' value="'+e.value+'" /><input type="hidden" name="'+n.name+'" id="'+e.id+'_input_key" value="'+e.value+'" />'),r.push('<span class="ui-form-buttons">'),r.push('<span class="ui-form-buttons-'+e.type+'">'),r.push('<span class="ui-form-buttons-'+e.type+'-icon">'),r.push('<span class="ui-form-'+e.type+'-up"></span>'),r.push('<span class="ui-form-'+e.type+'-down"></span>'),r.push("</span>"),r.push("</span>"),r.push("</span>"),r.push("</span>"),r.push("</span>"),r.push('<span class="ui-form-span ui-form-right-text">'+e.rightText+"</span>"),r.push('<span class="ui-form-clear"></span>'),r.push("</span>"),r.join("")},spinnerBindEvent:function(){var e=this,t=e.configs;e.commonEvent();var n=$("#"+t.id+"_text");return $("span.ui-form-spinner-up",n).bind({click:function(t){return e.fireEvent("onSpinnerUp",[]),e.fireEvent("onChange",[]),!1},mouseenter:function(e){$(this).addClass("ui-form-spinner-up-over")},mouseleave:function(e){$(this).removeClass("ui-form-spinner-up-over")}}),$("span.ui-form-spinner-down",n).bind({click:function(t){return e.fireEvent("onSpinnerDown",[]),e.fireEvent("onChange",[]),!1},mouseenter:function(e){$(this).addClass("ui-form-spinner-down-over")},mouseleave:function(e){$(this).removeClass("ui-form-spinner-down-over")}}),e},spinnerCreate:function(){var e=this,t=e.configs,n=t.helper,r=$(e.tpl(t.type.toString(),t)),i=$(t.renderTo);i.length?i.append(r):n.after(r).remove(),t.helper=r},radioSetValue:function(e){var t=this,n=t.configs;if(!arguments.length)return t;var r=$("#"+n.id+"_text");return $(":radio[name='"+n.name+"']",r).each(function(){$(this).removeAttr("checked"),e==$(this).val()&&$(this).attr("checked","true")}),t},radioTpl:function(e){if(!e)return"";var t=this,n=t.configs,r=[];r.push('<span ui-form-group="'+e.group+'" style="'+e.display+'" class="ui-form-wraper '+e.cls+'" id="'+e.id+'">'),r.push('<label for="'+e.id+'_input" class="ui-form-label '+e.labelCls+'">'+e.label+"</label>"),r.push('<span class="ui-form-span ui-form-left-text">'+e.leftText+"</span>"),r.push('<span class="ui-form-box" id="'+e.id+'_box">'),r.push('<span class="ui-form-input ui-form-text" id="'+e.id+'_text" style=" width:0px;">');var i=n.items;for(var s=0;s<i.length;s++){if(!$.isPlainObject(i[s])){t.inArray(i[s],["|",",",";"])!=-1&&r.push('<span class="ui-form-clear"></span>');continue}i[s]=$.extend(!0,{},n._item,i[s]),i[s].disabled&&(i[s].attrs+="disabled"),i[s].readOnly&&(i[s].attrs+=" readOnly "),i[s].selected&&(i[s].attrs+=" checked ");var o='<span class=" ui-form-radio '+i[s].cls+'"><input id="'+n.id+"_"+s+'" type="radio" value="'+i[s].name+'" name="'+n.name+'" '+i[s].attrs+' ><label class = " ui-form-radio-label " for="'+n.id+"_"+s+'">'+i[s].value+"</label></span>";r.push(o)}return r.push('<span class="ui-form-buttons"></span>'),r.push("</span>"),r.push("</span>"),r.push('<span class="ui-form-span ui-form-right-text">'+e.rightText+"</span>"),r.push('<span class="ui-form-clear"></span>'),r.push("</span>"),r.join("")},radioBindEvent:function(){var e=this,t=e.configs,n=$("#"+t.id+"_text"),r=n.find(":radio[name='"+t.name+"']");if(!r.length)return e;var i={click:function(t){var n=e.fireEvent("onClick",[this,t]);if(n===!1)return!1}};r.bind(i)},radioCreate:function(){var e=this,t=e.configs,n=t.helper,r=$(e.tpl(t.type,t)),i=$(t.renderTo);i.length?i.append(r):n.after(r).remove(),t.helper=r},checkboxSetValue:function(e){var t=this,n=t.configs;if(!arguments.length)return t;var r=$("#"+n.id+"_text");return e=e.split(","),$(":checkbox[name='"+n.name+"']",r).each(function(){$(this).removeAttr("checked"),t.inArray($(this).val(),e)!=-1&&$(this).attr("checked","true")}),t},checkboxTpl:function(e){if(!e)return"";var t=this,n=t.configs,r=[];r.push('<span ui-form-group="'+e.group+'" style="'+e.display+'" class="ui-form-wraper '+e.cls+'" id="'+e.id+'">'),r.push('<label for="'+e.id+'_input" class="ui-form-label '+e.labelCls+'">'+e.label+"</label>"),r.push('<span class="ui-form-span ui-form-left-text">'+e.leftText+"</span>"),r.push('<span class="ui-form-box" id="'+e.id+'_box">'),r.push('<span class="ui-form-input ui-form-text" id="'+e.id+'_text" style=" width:0px;">');var i=n.items;for(var s=0;s<i.length;s++){if(!$.isPlainObject(i[s])){t.inArray(i[s],["|",",",";"])!=-1&&r.push('<span class="ui-form-clear"></span>');continue}i[s]=$.extend(!0,{},n._item,i[s]),i[s].disabled&&(i[s].attrs+="disabled"),i[s].readOnly&&(i[s].attrs+=" readOnly "),i[s].selected&&(i[s].attrs+=" checked ");var o='<span class=" ui-form-checkbox '+i[s].cls+'"><input id="'+n.id+"_"+s+'" type="checkbox" value="'+i[s].name+'" name="'+n.name+'" '+i[s].attrs+' ><label class = " ui-form-radio-label " for="'+n.id+"_"+s+'">'+i[s].value+"</label></span>";r.push(o)}return r.push('<span class="ui-form-buttons"></span>'),r.push("</span>"),r.push("</span>"),r.push('<span class="ui-form-span ui-form-right-text">'+e.rightText+"</span>"),r.push('<span class="ui-form-clear"></span>'),r.push("</span>"),r.join("")},checkboxBindEvent:function(){var e=this,t=e.configs,n=$("#"+t.id+"_text"),r=n.find(":checkbox[name='"+t.name+"']");if(!r.length)return e;var i={click:function(t){e.fireEvent("onChange",[]);var n=e.fireEvent("onClick",[this,t]);if(n===!1)return!1}};r.bind(i)},checkboxCreate:function(){var e=this,t=e.configs,n=t.helper,r=$(e.tpl(t.type.toString(),t)),i=$(t.renderTo);i.length?i.append(r):n.after(r).remove(),t.helper=r},textareaTpl:function(e){if(!e)return"";var t=this,n=t.configs,r=[];return r.push('<span ui-form-group="'+e.group+'" style="'+e.display+'" class="ui-form-wraper '+e.cls+'" id="'+e.id+'">'),r.push('<label for="'+e.id+'_input" class="ui-form-label '+e.labelCls+'">'+e.label+"</label>"),r.push('<span class="ui-form-span ui-form-left-text">'+e.leftText+"</span>"),r.push('<span class="ui-form-box" id="'+e.id+'_box">'),r.push('<span class="ui-form-input ui-form-text" id="'+e.id+'_text" style=" width:0px;">'),r.push('<textarea id="'+e.id+'_input"  style=" width:0px; height:'+parseFloat(n.height)+'px;" '+e.attrs+' name="'+n.name+'">'+e.value+"</textarea>"),r.push("</span>"),r.push("</span>"),r.push('<span class="ui-form-span ui-form-right-text">'+e.rightText+"</span>"),r.push('<span class="ui-form-clear"></span>'),r.push("</span>"),r.join("")},textareaBindEvent:function(){var e=this;e.commonEvent()},textareaCreate:function(){var e=this,t=e.configs,n=t.helper,r=$(e.tpl(t.type.toString(),t)),i=$(t.renderTo);i.length?i.append(r):n.after(r).remove(),t.helper=r},C:function(e,t){return typeof e=="undefined"?this.configs:typeof t=="undefined"?this.configs[e]:(this.configs[e]=t,this)},getConf:function(){var e=this,t=e.configs,n=function(n){$.isPlainObject(n)&&(t=$.extend(t,n)),e.create()},r=function(t){e.create()};$.isFunction(t.url)?t.url.call(e,n,r):$.ajax({url:t.url,type:t.method,dataType:t.dataType,data:t.queryParams,success:n,error:r})},reLoad:function(){var e=this,t=e.configs,n=t.events;for(var r in n)n[r]=$.noop;return e.init.call(e,t),e}}),$.fn.extform=function(_opt){if(this.size()<=0)return!1;var list=[];return this.each(function(i){var self=$(this),attrs={type:$(this).attr("type"),value:$(this).attr("value"),name:$(this).attr("name"),cls:$(this).attr("class"),rules:eval($(this).attr("rules")||"[]"),attrs:$(this).attr("attrs")||"",label:$(this).attr("label")||"",display:$(this).attr("display")||"inline-block",group:$(this).attr("group")||"default",disabled:$(this).attr("disabled"),readOnly:$(this).attr("readOnly")},attrs2={};if($(this).attr("data-options"))var attrs2=eval("({"+$(this).attr("data-options")+"})");var opt=$.extend(!0,{},attrs,attrs2,_opt);opt.selector=self.selector,opt.helper=self;var extform=new $.extForm(opt);list.push(extform)}),this.size()==1?list[0]:list}})(jQuery);
//text
(function(e){"use strict";var t=function(){var e=this,t=e.configs,n=t.helper.is(":text");n&&(t.type="text")};e.extForm.puglins.push(t)})(jQuery);
//select
(function(e){"use strict";var t=function(){var t=this,n=t.configs;n.type=="multiselect"&&(n.type="select",n.multi=!0,n.onCheck.push("onChange"));var r=n.helper.is("select");if(r){n.type="select";if(!n.items.length){var i=[];n.helper.find(">option").each(function(){var t={};t.name=e(this).val(),t.value=e(this).html(),t.disabled=e(this).attr("disabled"),t.selected=e(this).attr("selected"),i.push(t)}),n.items=i}}n.type=="select"&&n.onCheck.push("onChange")};e.extForm.puglins.push(t),e.extForm.fn.extend({selectExtend:function(){var t=this,n=t.configs;t.bind("onClick",t.showSelect,t);var t=this,n=t.configs,r=n.items;for(var i=0;i<r.length;i++)r[i]=e.extend(!0,{},n._item,r[i]),r[i].selected&&t.selectSetValue(r[i].name,r[i].value);t.creteSelectList()},selectStart:function(){var e=this,t=e.configs;t.attrs+="readonly"},selectDestroy:function(){var t=this,n=t.configs;e("#"+n.id+"_list").remove()},selectGetValue:function(){var t=this,n=t.configs,r=e("#"+n.id+"_input_key");return r.val()},selectSetValue:function(){var t=this,n=t.configs,r=e("#"+n.id+"_input"),i=e("#"+n.id+"_input_key");return arguments.length==2?(r.val(arguments[1]),i.val(arguments[0])):n.multi?e.each(arguments[0].split(","),function(e,n){t.selectItem(n)}):t.selectItem(arguments[0]),t},selectValueChange:function(){var e=this;return e},selectBindEvent:function(){var t=this,n=t.configs;t.commonEvent();var r=e("#"+n.id+"_text");return r.bind("click",function(){}),t},selectCreate:function(){var t=this,n=t.configs,r=n.helper,i=e(n.renderTo),s=e(t.tpl("combo",n));i.length?i.append(s):r.after(s).remove(),n.helper=s},selectUpdateValue:function(){var t=this,n=t.configs,r=e("#"+n.id+"_list_body").find(">div.ui-form-select-list-item-selected"),i=[],s=[];return r.each(function(){i.push(e(this).attr("value")),s.push(e(this).html())}),t.val(i.join(","),s.join(",")),t},creteSelectList:function(){var t=this,n=t.configs,r=[];r.push('<div id="'+n.id+'_list" class="ui-form-select-list" tabindex="-1" style="display:none;">'),r.push('<div id="'+n.id+'_list_body" class="ui-form-select-list-body" tabindex="-1" style="">');var i=n.items;for(var s=0;s<i.length;s++)i[s]=e.extend(!0,{},n._item,i[s]),i[s].disabled&&(i[s].cls+=" ui-form-select-list-item-disabled "),i[s].selected&&(i[s].cls+=" ui-form-select-list-item-selected "),r.push('<div value="'+i[s].name+'" class="ui-form-select-list-item '+i[s].cls+'" id="'+n.id+"_"+s+'_item">'+i[s].value+"</div>");r.push("</div>"),r.push("</div>"),r=e(r.join("")).appendTo(document.body);var o={selectstart:function(e){return!1},mouseenter:function(t){if(e(this).hasClass("ui-form-select-list-item-disabled"))return;e(this).addClass("ui-form-select-list-item-over")},mouseleave:function(t){if(e(this).hasClass("ui-form-select-list-item-disabled"))return;e(this).removeClass("ui-form-select-list-item-over")},click:function(r){if(e(this).hasClass("ui-form-select-list-item-disabled"))return!1;var i=e(this).attr("value"),s=e(this).html();return n.multi=e.extForm._undef(n.multi,!1),n.multi?(e(this).hasClass("ui-form-select-list-item-selected")?e(this).removeClass("ui-form-select-list-item-selected"):e(this).addClass("ui-form-select-list-item-selected"),t.selectUpdateValue(),!1):(e("#"+n.id+"_list_body").find(">div.ui-form-select-list-item").removeClass("ui-form-select-list-item-selected"),e(this).addClass("ui-form-select-list-item-selected"),t.selectUpdateValue(),t.hideSelect(),!1)}};return e(".ui-form-select-list-item",r).bind(o),r},destroySelectList:function(){var t=this,n=t.configs,r=e("#"+n.id+"_list");r.remove(),e(document).unbind("click.selectList"+n.id)},hideSelect:function(){var t=this,n=t.configs,r=e("#"+n.id+"_list");r.css({width:"auto",height:"auto"}),r.hide()},selectItem:function(t){var n=this,r=n.configs;t=e.extForm._undef(t,!1);if(t===!1)return n;var i=r.items;r.multi=e.extForm._undef(r.multi,!1),r.multi||e("#"+r.id+"_list_body").find(">div.ui-form-select-list-item").removeClass("ui-form-select-list-item-selected");for(var s=0;s<i.length;s++){i[s]=e.extend(!0,{},r._item,i[s]);if(i[s].name==t){e("#"+r.id+"_"+s+"_item").removeClass("ui-form-select-list-item-selected").addClass("ui-form-select-list-item-selected");break}}return n.selectUpdateValue(),n},unSelectItem:function(t){var n=this,r=n.configs;t=e.extForm._undef(t,!1);if(t===!1)return n;var i=r.items;for(var s=0;s<i.length;s++){i[s]=e.extend(!0,{},r._item,i[s]);if(i[s].name==t){e("#"+r.id+"_"+s+"_item").removeClass("ui-form-select-list-item-selected");break}}return n.selectUpdateValue(),n},showSelect:function(t){if(e(t).attr("disabled"))return n;var n=this,r=n.configs,i=e("#"+r.id+"_list"),s=e("#"+r.id+"_text"),o=n.getShowSpace();e(document).unbind("click.selectList"+r.id),i.length||(i=n.creteSelectList());if(!i.is(":hidden"))return n.hideSelect(),n;var u=i.outerHeight(),a=i.outerWidth(),f=s.offset(),l=parseInt(i.css("border-top-width")),c=parseInt(i.css("border-bottom-width")),h=parseInt(i.css("border-left-width")),p=parseInt(i.css("border-right-width"));r.maxHeight=e.extForm._undef(r.maxHeight,Math.max(o.bottom,o.top)),r.maxWidth=e.extForm._undef(r.maxWidth,s.outerWidth()),i.removeClass("ui-form-select-list-bottom-auto").removeClass("ui-form-select-list-top-auto").removeClass("ui-form-select-list-top").removeClass("ui-form-select-list-bottom"),u>r.maxHeight&&(u=r.maxHeight);var d="bottom";u<=o.bottom?(i.css({top:f.top+s.outerHeight(),left:f.left}),i.addClass("ui-form-select-list-bottom")):o.top>o.bottom?(i.css({top:f.top-u,left:f.left}),i.addClass("ui-form-select-list-top"),d="top"):(i.css({top:f.top+s.outerHeight(),left:f.left}),i.addClass("ui-form-select-list-bottom")),u=u-l-c,i.height(u),r.maxWidth=="auto"?a<s.outerWidth()?a=s.outerWidth():a>o.right+s.outerWidth()?(i.addClass("ui-form-select-list-"+d+"-auto"),a=o.right+s.outerWidth()):a<s.outerWidth()?a=s.outerWidth():i.addClass("ui-form-select-list-"+d+"-auto"):a>=r.maxWidth&&a>s.outerWidth()?(i.addClass("ui-form-select-list-"+d+"-auto"),a=r.maxWidth):a=s.outerWidth(),a=a-h-p,i.width(a),i.show(),setTimeout(function(){e(document).bind("click.selectList"+r.id,function(e){n.hideSelect()})},0)}})})(jQuery);
//date
(function(e){"use strict";e.extForm.fn.extend({dateExtend:function(){var e=this,t=e.configs;e.val(t.value)},dateStart:function(){var e=this,t=e.configs;t.onCheck.push("onChange")},dateBindEvent:function(){var t=this,n=t.configs;t.commonEvent();var r=e("#"+n.id+"_text");e(">span.ui-form-buttons",r).bind({click:function(t){return e("#"+n.id+"_input")[0].focus(),!1}}),e("#"+n.id+"_input").blur(function(){e("#"+n.id+"_input_key").val(e("#"+n.id+"_input").val()),setTimeout(function(){t.fireEvent("onChange"),t.checkVal()},10)}),e("#"+n.id+"_input").change(function(){e("#"+n.id+"_input_key").val(e("#"+n.id+"_input").val())});var i=n.dateFormate||n.helper.attr("date-format")||"yyyy-mm-dd",s=!1,o=navigator.appName,u=navigator.appVersion,a=u.split(";");try{var f=a[1].replace(/[ ]/g,"")}catch(l){f=""}return o=="Microsoft Internet Explorer"&&f=="MSIE7.0"?s=!0:o=="Microsoft Internet Explorer"&&f=="MSIE6.0"&&(s=!0),s?e("#"+n.id+"_input").click(function(){var e=this;WdatePicker({el:e})}):e("#"+n.id+"_input").attr("onClick","WdatePicker()"),t},dateCreate:function(){var t=this,n=t.configs,r=n.helper,i=e(n.renderTo),s=e(t.tpl("combo",n));i.length?i.append(s):r.after(s).remove(),n.helper=s}})})(jQuery);
//spinner
(function(e){"use strict";var t=function(){var e=this,t=e.configs,n=function(){var e=this,t=e.configs;t.step=Number(t.step);var n=Number(e.val())+t.step;if(t.smax!==null&&n>t.smax)return;e.val(n)},r=function(){var e=this,t=e.configs;t.step=Number(t.step);var n=Number(e.val())-t.step;if(t.smin!==null&&n<t.smin)return;e.val(n)};t.type=="spinner"&&(t.onCheck.push("onChange"),e.bind("onSpinnerUp",n),e.bind("onSpinnerDown",r),t.smax!==null&&t.rules.push({max:Number(t.smax)}),t.smin!==null&&t.rules.push({min:Number(t.smin)}))};e.extForm.puglins.push(t)})(jQuery);
//checkbox
(function(e){"use strict";var t=function(){var t=this,n=t.configs,r=n.helper.is(":checkbox");if(r){n.type="checkbox",n.onCheck.push("onChange");if(!n.items.length){var i=[],s="",o=e("label[for='"+n.helper.attr("id")+"']");o.length?(s=o.html(),o.remove()):typeof n.helper.attr("label")!="undefined"&&(s=n.helper.attr("label")),i.push({name:n.helper.val(),value:s,disabled:n.helper.attr("disabled"),selected:n.helper.attr("checked"),readOnly:n.helper.attr("readonly")}),n.width="auto",n.items=i}}};e.extForm.puglins.push(t),e.extForm.fn.extend({checkboxSizeChange:function(){var t=this,n=t.configs,r=e.extForm._undef(r,n.width),i=e("#"+n.id+"_text");i.width(r),e("#"+n.id).height(e("#"+n.id+"_box").outerHeight())}})})(jQuery);
//stagselect
(function(e){"use strict";var t=function(){function r(){var t=this,n=t.configs,r=t.C("items"),i=t.val();e("#"+n.id).nextAll(".stag_"+n.id).remove(),e.each(r,function(t,r){if(r.name==i&&r.sub!=""){var s={};s.url=r.sub,s.type="stagselect",s.id="",s.renderTo="#"+n.id,s.onCreate=function(){e("#"+n.id).after(e("#"+this.C("id")))};var o=e("#"+n.id).extform(s);return!1}}),console.log(t.val())}var t=this,n=t.configs;n.type=="stagselect"&&(n.onCheck.push("onChange"),n.type="select",n.cls+=" stag_"+n.id+" ",t.bind("onChange",r))};e.extForm.puglins.push(t)})(jQuery);
//radio
(function(e){"use strict";var t=function(){var t=this,n=t.configs,r=n.helper.is(":radio");if(r){n.type="radio",n.onCheck.push("onChange");if(!n.items.length){var i=[],s="",o=e("label[for='"+n.helper.attr("id")+"']");o.length?(s=o.html(),o.remove()):typeof n.helper.attr("label")!="undefined"&&(s=n.helper.attr("label")),i.push({name:n.helper.val(),value:s,disabled:n.helper.attr("disabled"),selected:n.helper.attr("checked"),readOnly:n.helper.attr("readonly")}),n.width="auto",n.items=i}}};e.extForm.puglins.push(t),e.extForm.fn.extend({radioSizeChange:function(){var t=this,n=t.configs,r=e.extForm._undef(r,n.width),i=e("#"+n.id+"_text");i.width(r),e("#"+n.id).height(e("#"+n.id+"_box").outerHeight())}})})(jQuery);
//textarea
(function(e){"use strict";var t=function(){var e=this,t=e.configs,n=t.helper.is("textarea");n&&(t.type="textarea",t.width=t.helper.width(),t.height=t.helper.height())};e.extForm.puglins.push(t)})(jQuery);